function setup(){document.getElementById("results").className="hidden",background(255),w=2*document.getElementById("viz").clientWidth,h=w/2,cnvs=createCanvas(w,h),seats=new Array(100);for(var e=0;e<seats.length;e++)seats[e]="";noStroke(),order=_.shuffle(_.range(100)),your_seat=order[order.length-1],worst_person_alive=order.shift(),random_seat_taken=_.random(99),random_seat_taken===worst_person_alive?seats[random_seat_taken]="right":seats[random_seat_taken]="wrong",cnvs.parent("viz")}function draw(){squareWidth=.05*w,margin=.01*w;for(var e=10,t=10,s=0,r=0;e>r;r++)for(var a=0;t>a;a++)"right"===seats[r*e+a]?fill(94,60,153):"wrong"===seats[r*e+a]?(fill(230,97,1),s+=1):fill(240,240,240),rect(squareWidth*r,squareWidth*a,squareWidth-margin,squareWidth-margin);if(original_seat=order.shift(),0==order.length&&(document.getElementById("wrongSeatResults").textContent=s,document.getElementById("results").className="","wrong"===seats[your_seat]?(document.getElementById("yourSeatResults").textContent="including you!",document.getElementById("yourSeatResults").style.color="#e66101"):(document.getElementById("yourSeatResults").textContent="but you were saved!",document.getElementById("yourSeatResults").style.color="#5e3c99")),""===seats[original_seat])seats[original_seat]="right";else{for(var n=[],r=0;r<seats.length;r++)""===seats[r]&&n.push(r);seats[_.sample(n)]="wrong"}}function windowResized(){setup()}var w,h,cnvs,seats,order,your_seat;